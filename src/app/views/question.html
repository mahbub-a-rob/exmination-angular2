<section>
    <form [formGroup]="form" (submit)="onSubmit()">
        <div class="row">
            <div class="col-sm-4">
                <header *ngIf="examination.id">
                    <h3>
                        <i class="fa fa-file-text"></i> เพิ่มโจทย์ข้อสอบ :
                        <span class="text-orange">"{{examination.number}}"</span>
                    </h3>
                    <table>
                        <tr>
                            <td>รายละเอียดข้อสอบ </td>
                            <td>: <span class="text-success">{{examination.name}}</span></td>
                        </tr>
                        <tr>
                            <td>รายวิชา </td>
                            <td>: <span class="text-danger">{{subject.name}}</span></td>
                        </tr>
                        <tr>
                            <td>รายละเอียดอื่นๆ </td>
                            <td>: {{examination.detail | examNullText}}</td>
                        </tr>
                        <tr>
                            <td>บันทึกเมื่อ</td>
                            <td>: {{examination.created | examDate}}</td>
                        </tr>
                        <tr>
                            <td>แก้ไขเมื่อ</td>
                            <td>: {{examination.updated | examDate}}</td>
                        </tr>
                        <tr>
                            <td>สถานะข้อสอบ</td>
                            <td>: {{examination.status | examExaminationStatus}}</td>
                        </tr>
                    </table>
                </header>

                <div class="form-group">
                    <div class="row">
                        <div class="col-sm-6">
                            <button class="btn btn-dark" onclick="history.back()" type="button">
                                <i class="fa fa-reply"></i> ย้อนกลับ
                            </button>
                        </div>
                        <div class="col-sm-6">
                            <button class="btn btn-dark" [routerLink]="['/', Url.Dashboard]" type="button">
                                <i class="fa fa-dashboard"></i> กลับไปหน้าหลัก
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-sm-8">
                <div class="form-group">
                    <div class="row">
                        <div class="col-sm-4">
                            <input type="text" class="form-control input-dark" placeholder="โจทย์ข้อที่ {{(questions.length+1)}} (ค่าเริ่มต้น)" formControlName="sequence">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <textarea placeholder="โจทย์ข้อสอบ" class="form-control" rows="5" formControlName="name"></textarea>
                </div>

                <div class="row" *ngFor="let item of form.controls.answers.controls; let index = index" [formGroup]="item">
                    <div class="col-sm-9">
                        <div class="form-group">
                            <textarea rows="1" class="form-control" formControlName="name" placeholder="คำตอบข้อสอบ {{item.value.choice_name}}."></textarea>
                        </div>
                    </div>
                    <div class="col-sm-3">
                        <div class="form-group">
                            <label>
                                <input type="radio" name="answer"> คำตอบนี้ถูก
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <button type="submit" class="btn" [disabled]="disabled"><i class="fa fa-plus"></i> เพิ่มโจทย์ข้อสอบ</button>
                </div>
            </div>
        </div>
    </form>
</section>